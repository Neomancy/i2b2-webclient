<div id="infoQueryStatusText" class="StatusBoxText" oncontextmenu="return false">
    <div style="clear:both;">
        {{#if name}}
            {{#if isProcessing}}
                <div style="clear:both;"></div><div style="float:left; font-weight:bold; line-height: 2rem;">Processing Query: {{name}} </div>
            {{else if isRunning}}
                <div style="clear:both;"></div><div style="float:left; font-weight:bold; line-height: 2rem;">Running Query: {{name}} </div>
            {{else if deleteCurrentQuery}}
                <div style="clear:both;"></div><div style="float:left; font-weight:bold; line-height: 2rem;">Cancelled Query: {{name}} </div>
            {{else}}
                <div style="clear:both;"></div><div style="float:left; font-weight:bold; line-height: 2rem;">Finished Query: {{name}} </div>
            {{/if}}

            <div class="statusButtons
                {{#if deleteCurrentQuery}}
                    cancelled
                {{else if finished}}
                    done
                {{else}}
                    running
                {{/if}}
                ">
                <button type="button" class="btn btn-primary btn-sm report" onclick="i2b2.CRC.view.QT.showQueryReport();">View Report</button>
                <!-- must use "onmousedown" for cancel button because of the rerendering rate of this template during the query run/polling period -->
                <button type="button" class="btn btn-danger btn-sm cancel" onmousedown="i2b2.CRC.ctrlr.QueryMgr.stopQuery();">Cancel Query</button>
                <button type="button" class="btn btn-danger btn-sm cancelled">Query Cancelled</button>
            </div>
            <div style="float:right; padding: 0.4rem">[{{elapsedTime}} &nbsp; secs]</div>
            {{#if computeTime}}
                <div style="clear:both;"></div>
                <div class="computeTime">Compute Time: {{computeTime}} &nbsp;secs</div>
            {{/if}}
            <div style="clear:both;"></div>
        {{/if}}

        {{#if queued}}
        <div class="status-bar-label">Queued Query Progress</div>
        {{#if progressBar}}
        <div class="status-bar">
            <div class="status-error" style="width:{{progressBar.error}}%"></div>
            <div class="status-finished" style="width:{{progressBar.finished}}%"></div>
        </div>
        {{/if}}
        {{/if}}

        {{#ifCond patientCount '!==' undefined}}
            {{#unless deleteCurrentQuery}}
            {{#unless queued}}
                <table style="width: 400px; margin-left: auto; margin-right: auto;">
                    <tr style="background-color: #ed9b40">
                        <td style="color: black; text-align: center; vertical-align: middle;">
                            Number of patients for "{{name}}"
                        </td>
                    </tr>
                    <tr style="background-color: #ed9b40">
                        <td style="color: black; text-align: center; vertical-align: middle; font-size: 45px">
                            {{patientCount}}
                        </td>
                    </tr>
                    <tr style="background-color: white">
                        <td style="color: red; text-align: center; vertical-align: middle;">&nbsp</td>
                    </tr>
                </table>
            {{/unless}}
            {{/unless}}
        {{/ifCond}}
    </div>
</div>