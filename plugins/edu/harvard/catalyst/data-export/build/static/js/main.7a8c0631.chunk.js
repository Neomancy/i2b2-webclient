(this.webpackJsonpData_Export=this.webpackJsonpData_Export||[]).push([[0],{162:function(e,a,t){},206:function(e,a,t){e.exports=t(232)},214:function(e,a,t){},215:function(e,a,t){},231:function(e,a,t){},232:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),i=t(165),l=t.n(i),o=(t(214),t(7)),c=t(85),d=(t(215),t(307)),s=[{field:"name",headerName:"Table Definition Name",minWidth:450,flex:1,sortable:!0,editable:!0,disableReorder:!0,type:"string"},{field:"create",headerName:"Created",width:100,sortable:!0,headerAlign:"center",align:"center",disableReorder:!0,type:"date"},{field:"edit",headerName:"Edited",width:100,sortable:!0,headerAlign:"center",align:"center",disableReorder:!0,type:"date"},{field:"columns",headerName:"Columns",width:100,sortable:!0,headerAlign:"center",align:"center",disableReorder:!0,type:"number"}];function m(e){var a=e.id,t=e.rows,r=e.canRename,i=e.onSelect,l=e.onSelectionModelChange,o=e.selectionModel,c=e.hideFooter;return s[0].editable=r,n.createElement("div",{id:a,style:{height:400}},n.createElement(d.a,{height:280,columnHeaderHeight:40,style:{background:"white"},columns:s,rows:t,showCellVerticalBorder:!0,density:"compact",disableColumnResize:!0,onRowSelectionModelChange:function(e,a){var t=a.api;void 0!==l&&(l(e),e.length>0&&i(t.getRow(e[0])))},rowSelectionModel:o,hideFooter:c,pageSizeOptions:[4,8,16]}))}var u=t(3),p=t(28),b=(t(231),t(306)),D=t(13),g=t(324),h=t(313),w=t(323),f=t(172),E=t.n(f),v=t(173),C=t.n(v),x=t(174),O=t.n(x),j=t(175),y=t.n(j),S=t(176),M=t.n(S),T=t(312),V=t(318),N=t(320),k=(t(162),t(311)),A=t(321),R=["children","value","index"],I={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"70%",minWidth:1280,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4};function L(e){return{id:"vertical-tab-".concat(e),"aria-controls":"vertical-tabpanel-".concat(e)}}var P=[{id:1,name:"Demographics",create:new Date(Date.parse("01/01/23")),edit:new Date(Date.parse("07/07/24")),columns:10},{id:2,name:"Covid Use Case",create:new Date(Date.parse("04/05/23")),edit:new Date(Date.parse("07/07/24")),columns:20},{id:3,name:"Demographics",create:new Date(Date.parse("06/07/23")),edit:new Date(Date.parse("07/07/24")),columns:25},{id:4,name:"Demographics2",create:new Date(Date.parse("11/16/23")),edit:new Date(Date.parse("07/07/24")),columns:11}],q=[{id:1,name:"Nick's 1st Demographics run",create:new Date(Date.parse("01/01/23")),edit:new Date(Date.parse("07/07/24")),columns:10},{id:2,name:"Dummy test",create:new Date(Date.parse("04/05/23")),edit:new Date(Date.parse("07/07/24")),columns:20},{id:3,name:"Example 1",create:new Date(Date.parse("06/07/23")),edit:new Date(Date.parse("07/07/24")),columns:25},{id:4,name:"Example 2",create:new Date(Date.parse("11/16/23")),edit:new Date(Date.parse("07/07/24")),columns:11},{id:5,name:"COVID + GLP-1s",create:new Date(Date.parse("01/01/23")),edit:new Date(Date.parse("07/07/24")),columns:10},{id:6,name:"COVID + ACE2",create:new Date(Date.parse("04/05/23")),edit:new Date(Date.parse("07/07/24")),columns:20},{id:7,name:"NegCOVID + GLP-1s",create:new Date(Date.parse("06/07/23")),edit:new Date(Date.parse("07/07/24")),columns:25},{id:8,name:"NegCOVID + ACE2",create:new Date(Date.parse("11/16/23")),edit:new Date(Date.parse("07/07/24")),columns:11},{id:9,name:"Diabetes",create:new Date(Date.parse("01/01/23")),edit:new Date(Date.parse("07/07/24")),columns:10},{id:10,name:"Ashtma",create:new Date(Date.parse("04/05/23")),edit:new Date(Date.parse("07/07/24")),columns:20},{id:11,name:"COPD",create:new Date(Date.parse("06/07/23")),edit:new Date(Date.parse("07/07/24")),columns:25},{id:12,name:"opps (delete me)",create:new Date(Date.parse("11/16/23")),edit:new Date(Date.parse("07/07/24")),columns:11},{id:13,name:"Complex Stats Demo",create:new Date(Date.parse("01/01/23")),edit:new Date(Date.parse("07/07/24")),columns:10},{id:14,name:"testing 2",create:new Date(Date.parse("04/05/23")),edit:new Date(Date.parse("07/07/24")),columns:20},{id:15,name:"testing 1",create:new Date(Date.parse("06/07/23")),edit:new Date(Date.parse("07/07/24")),columns:25},{id:16,name:"test",create:new Date(Date.parse("11/16/23")),edit:new Date(Date.parse("07/07/24")),columns:11}];function F(e){var a=e.children,t=e.value,r=e.index,i=Object(c.a)(e,R);return n.createElement("div",Object.assign({role:"tabpanel",hidden:t!==r,id:"vertical-tabpanel-".concat(r),"aria-labelledby":"vertical-tab-".concat(r)},i),t===r&&n.createElement(V.a,{sx:{p:3}},n.createElement(N.a,null,a)))}function B(e){var a=e.open,t=e.handleClose,r=n.useState(0),i=Object(o.a)(r,2),l=i[0],c=i[1];return n.createElement(T.a,{open:a,onClose:t,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description"},n.createElement(V.a,{sx:I},n.createElement(N.a,{id:"modal-modal-title",variant:"h6",component:"h2"},"Load Table Definition"),n.createElement(N.a,{id:"modal-modal-description",sx:{mt:2,marginBottom:"1rem"}},"Load an existing table definition from below. Loading a definition will overwrite any unsaved changes in the definition editor."),n.createElement(V.a,{className:"modalDefListBox",sx:{flexGrow:1,display:"flex",boxShadow:2}},n.createElement(k.a,{orientation:"vertical",value:l,onChange:function(e,a){c(a)},"aria-label":"Vertical tabs example",sx:{borderRight:1,borderColor:"divider"}},n.createElement(A.a,Object.assign({label:"Shared Tables"},L(0))),n.createElement(A.a,Object.assign({label:"My Tables"},L(1)))),n.createElement(F,{value:l,index:0,className:"modalTabPanel"},n.createElement(m,{id:"loadModalDefTableGlobal",rows:P,canRename:!1})),n.createElement(F,{value:l,index:1,className:"modalTabPanel"},n.createElement(m,{id:"loadModalDefTableLocal",rows:q,canRename:!0}))),n.createElement(g.a,{spacing:2,direction:"row",justifyContent:"flex-end",alignItems:"center",style:{width:"100%",margin:"auto",marginTop:"16px"}},n.createElement(h.a,{variant:"outlined",onClick:t},"Cancel"),n.createElement(h.a,{variant:"contained",onClick:function(){return alert("Load")}},"Load"))))}var H=t(314),G=["children","value","index"],W={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"70%",minWidth:1280,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4},z=[{id:1,name:"Nick's 1st Demographics run",create:new Date(Date.parse("01/01/23")),edit:new Date(Date.parse("07/07/24")),columns:10},{id:2,name:"Dummy test",create:new Date(Date.parse("04/05/23")),edit:new Date(Date.parse("07/07/24")),columns:20},{id:3,name:"Example 1",create:new Date(Date.parse("06/07/23")),edit:new Date(Date.parse("07/07/24")),columns:25},{id:4,name:"Example 2",create:new Date(Date.parse("11/16/23")),edit:new Date(Date.parse("07/07/24")),columns:11},{id:5,name:"COVID + GLP-1s",create:new Date(Date.parse("01/01/23")),edit:new Date(Date.parse("07/07/24")),columns:10},{id:6,name:"COVID + ACE2",create:new Date(Date.parse("04/05/23")),edit:new Date(Date.parse("07/07/24")),columns:20},{id:7,name:"NegCOVID + GLP-1s",create:new Date(Date.parse("06/07/23")),edit:new Date(Date.parse("07/07/24")),columns:25},{id:8,name:"NegCOVID + ACE2",create:new Date(Date.parse("11/16/23")),edit:new Date(Date.parse("07/07/24")),columns:11},{id:9,name:"Diabetes",create:new Date(Date.parse("01/01/23")),edit:new Date(Date.parse("07/07/24")),columns:10},{id:10,name:"Ashtma",create:new Date(Date.parse("04/05/23")),edit:new Date(Date.parse("07/07/24")),columns:20},{id:11,name:"COPD",create:new Date(Date.parse("06/07/23")),edit:new Date(Date.parse("07/07/24")),columns:25},{id:12,name:"opps (delete me)",create:new Date(Date.parse("11/16/23")),edit:new Date(Date.parse("07/07/24")),columns:11},{id:13,name:"Complex Stats Demo",create:new Date(Date.parse("01/01/23")),edit:new Date(Date.parse("07/07/24")),columns:10},{id:14,name:"testing 2",create:new Date(Date.parse("04/05/23")),edit:new Date(Date.parse("07/07/24")),columns:20},{id:15,name:"testing 1",create:new Date(Date.parse("06/07/23")),edit:new Date(Date.parse("07/07/24")),columns:25},{id:16,name:"test",create:new Date(Date.parse("11/16/23")),edit:new Date(Date.parse("07/07/24")),columns:11}];function Y(e){return{id:"vertical-tab-".concat(e),"aria-controls":"vertical-tabpanel-".concat(e)}}function _(e){var a=e.children,t=e.value,r=e.index,i=Object(c.a)(e,G);return n.createElement("div",Object.assign({role:"tabpanel",hidden:t!==r,id:"vertical-tabpanel-".concat(r),"aria-labelledby":"vertical-tab-".concat(r)},i),t===r&&n.createElement(V.a,{sx:{p:3}},n.createElement(N.a,null,a)))}function J(e){var a=e.open,t=e.handleClose,r=n.useState(""),i=Object(o.a)(r,2),l=i[0],c=i[1],d=n.useState([]),s=Object(o.a)(d,2),u=s[0],b=s[1],D=n.useState(!1),w=Object(o.a)(D,2),f=w[0],E=w[1];function v(){alert("Saved!"),E(!1),t()}return n.createElement("div",null,n.createElement(T.a,{open:a,onClose:t,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description"},n.createElement(V.a,{sx:W},n.createElement(N.a,{id:"modal-modal-title",variant:"h6",component:"h2"},"Save Table Definition"),n.createElement(N.a,{id:"modal-modal-description",sx:{mt:2}},"Enter a table definition name to save as or select from the list to overwrite."),n.createElement(V.a,{className:"modalDefListBox",sx:{flexGrow:1,display:"flex",boxShadow:2}},n.createElement(k.a,{orientation:"vertical",value:1,"aria-label":"Vertical tabs example",sx:{borderRight:1,borderColor:"divider"}},n.createElement(A.a,Object.assign({label:"Shared Tables"},Y(0),{sx:{textDecoration:"line-through"}})),n.createElement(A.a,Object.assign({label:"My Tables"},Y(1)))),n.createElement(_,{value:0,index:0,className:"modalTabPanel"}),n.createElement(_,{value:1,index:1,className:"modalTabPanel",height:260},n.createElement(m,{id:"saveModalDefTableLocal",rows:z,canRename:!0,onSelect:function(e){c(e.name),b(e.id)},onSelectionModelChange:function(e){console.warn("tets")},selectionModel:u,hideFooter:!0}))),n.createElement(g.a,{spacing:2,direction:"row",justifyContent:"flex-end",alignItems:"left",style:{width:"100%",margin:"auto",marginTop:"16px"}}),n.createElement(g.a,{spacing:2,direction:"row",justifyContent:"flex-end",alignItems:"center",style:{width:"100%",margin:"auto",marginTop:"8px"}},n.createElement(H.a,{required:!0,size:"small",id:"TableDefName",label:"Save Table Definition As",defaultValue:"My-Table-Definition",value:l,onChange:function(e){c(e.target.value),b([])},sx:{float:"left",width:"60%",position:"absolute",left:32}}),n.createElement(h.a,{variant:"outlined",onClick:t},"Cancel"),n.createElement(h.a,{variant:"contained",onClick:function(){return function(e){0===e.length?v():E(!0)}(u)}},"Save")))),n.createElement(T.a,{open:f,onClose:t,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description"},n.createElement(V.a,{sx:Object(p.a)(Object(p.a)({},W),{},{minWidth:"30%",width:"30%"})},n.createElement(N.a,{id:"modal-modal-title",variant:"h6",component:"h2"},"Overwrite Existing Table"),n.createElement("p",null," "),n.createElement(N.a,{id:"modal-modal-description",sx:{mt:2},align:"center"},n.createElement("div",null,"You are about to overwrite an existing table with the same name."),n.createElement("div",null,"Are you sure you want to do this?")),n.createElement(g.a,{spacing:2,direction:"row",justifyContent:"flex-end",alignItems:"center",style:{width:"100%",margin:"auto",marginTop:"8px"}},n.createElement(h.a,{variant:"outlined",onClick:function(){return E(!1)}},"No"),n.createElement(h.a,{variant:"contained",onClick:function(){return v()}},"Yes")))))}var U=[{field:"order",headerName:"order",width:1,sortable:!0,sortingOrder:"ASC",hideSortIcons:!0,disableReorder:!0},{field:"reorder",headerName:"Ordering",width:"80",resizable:!1,type:"actions",getActions:function(e){var a=e.row,t=[];return a.demographic||(a.order>1&&t.push(n.createElement(b.a,{icon:n.createElement(w.a,{title:"Move row up"},n.createElement(E.a,null)),label:"Move row up",onClick:function(){return alert("up")}})),t.push(n.createElement(b.a,{icon:n.createElement(w.a,{title:"Move row down"},n.createElement(C.a,null)),label:"Move row down",onClick:function(){return alert("down")}}))),t}},{field:"included",headerName:"Include",width:70,editable:!0,sortable:!1,type:"boolean",resizable:!1,disableColumnMenu:!0,disableReorder:!0,hideSortIcons:!0,disableColumnSorting:!0,headerAlign:"center",renderCell:function(e){var a=e.row;return a.demographic?a.included?n.createElement(O.a,null):n.createElement(y.a,null):n.createElement(b.a,{icon:n.createElement(w.a,{title:"Delete Column"},n.createElement(M.a,null)),label:"Delete Column",onClick:function(e){alert("delete"),console.dir(e),e.nativeEvent.preventDefault()}})}},{field:"name",headerName:"Concept",minWidth:450,flex:1,sortable:!1,disableColumnSorting:!0,disableColumnMenu:!1},{field:"constraint",headerName:"Constraints",width:130,resizable:!1,disableColumnMenu:!0,disableReorder:!0,disableColumnSorting:!0,display:"flex",hideSortIcons:!0,sortable:!1},{field:"aggregation",headerName:"Aggregation",width:300,resizable:!1,disableColumnMenu:!0,disableReorder:!0,display:"flex",hideSortIcons:!0,disableColumnSorting:!0,sortable:!1,editable:!0,type:"singleSelect",valueOptions:function(e){return e.row.demographic?["Value"]:["Existence (Yes/No)","Date (First)","Date (Most Recent)","Count","All Concepts (Names/Text)","Most Frequent Concept (Names/Text)","All Concepts (Codes)","Most Frequent Concept (Codes)","Minimum Value","Maximum Value","Median Value","Average Value","Mode (Most Frequent Value)","List of All Values"]}}],K=[{order:1,id:123,name:"Patient Number",constraint:"",aggregation:"Value",included:!0,demographic:!0},{order:2,id:122,name:"Gender",constraint:"",aggregation:"Value",included:!0,demographic:!0},{order:3,id:121,name:"Age",constraint:"",aggregation:"Value",included:!0,demographic:!0},{order:4,id:111,name:"Race",constraint:"",aggregation:"Value",included:!1,demographic:!0},{order:5,id:58,name:"Ethnicity",constraint:"",aggregation:"Value",included:!1,demographic:!0},{order:6,id:35,name:"Vital Status",constraint:"",aggregation:"Value",included:!1,demographic:!0},{order:7,id:36,name:"Hemoglobin A1C (Test:mcsq-a1c)",constraint:"something here",aggregation:"Maximum Value"},{order:8,id:25,name:"Hemoglobin A1C (Test:mcsq-a1c)",constraint:"something here",aggregation:"Mode (Most Frequent Value)"},{order:9,id:136,name:"Hemoglobin A1C (Test:mcsq-a1c)",constraint:"something here",aggregation:"Date (Most Recent)"},{order:10,id:125,name:"Hemoglobin A1C (Test:mcsq-a1c)",constraint:"something here",aggregation:"Average Value"}];function Q(e){var a=e.props,t=n.useState(!1),r=Object(o.a)(t,2),i=(r[0],r[1],n.useState(!1)),l=Object(o.a)(i,2),c=l[0],s=l[1],m=n.useState(!1),b=Object(o.a)(m,2),w=b[0],f=b[1],E=n.useState({}),v=Object(o.a)(E,2),C=v[0],x=v[1],O=n.useCallback((function(e,a){e.isEditable&&(1!==a.target.nodeType||a.currentTarget.contains(a.target))&&(void 0===e||"aggregation"!==e.field||!0!==e.row.demographic?x((function(a){var t=Object(p.a)(Object(p.a)({},Object.keys(a).reduce((function(e,t){return Object(p.a)(Object(p.a)({},e),{},Object(u.a)({},t,Object.keys(a[t]).reduce((function(e,a){return Object(p.a)(Object(p.a)({},e),{},Object(u.a)({},a,{mode:D.a.View}))}),{})))}),{})),Object.keys(a).reduce((function(e,t){return Object(p.a)(Object(p.a)({},e),{},Object(u.a)({},t,Object.keys(a[t]).reduce((function(e,a){return Object(p.a)(Object(p.a)({},e),{},Object(u.a)({},a,{mode:D.a.View}))}),{})))}),{}));return Object(p.a)(Object(p.a)({},t),{},Object(u.a)({},e.id,Object(p.a)(Object(p.a)({},Object.keys(a[e.id]||{}).reduce((function(e,a){return Object(p.a)(Object(p.a)({},e),{},Object(u.a)({},a,{mode:D.a.View}))}),{})),{},Object(u.a)({},e.field,{mode:D.a.Edit}))))})):a.preventDefault())}),[]),j=n.useCallback((function(e){x(e)}),[]);return n.createElement("div",null,n.createElement(B,{handleClose:function(){return s(!1)},open:c}),n.createElement(J,{handleClose:function(){return f(!1)},open:w}),n.createElement(g.a,{spacing:2,direction:"row",justifyContent:"flex-end",alignItems:"center",style:{width:"76%",margin:"auto",marginBottom:"16px"}},n.createElement(h.a,{variant:"contained",onClick:function(){return s(!0)}},"Load Previous Definition"),n.createElement(h.a,{variant:"contained",onClick:function(){return f(!0)}},"Save Current Definition"),n.createElement(h.a,{variant:"contained",onClick:function(){return a.tabChanger(2)}},"Request Export With This Definition")),n.createElement("div",{id:"dropTrgt",style:{height:"60%",width:"76%",margin:"auto",background:"#077cf982",padding:"5px",borderRadius:"5px"}},n.createElement("p",{style:{fontStyle:"italic",fontWeight:"bold"}},"Drag a concept onto the grid to add it to the list"),n.createElement(d.a,{style:{background:"white"},rows:K,columns:U,showCellVerticalBorder:!0,hideFooterSelectedRowCount:!0,columnVisibilityModel:{order:!1},disableColumnSelector:!0,cellModesModel:C,onCellModesModelChange:j,onCellClick:O,onCellDoubleClick:O,initialState:{sorting:{sortModel:[{field:"order",sort:"asc"}]}},autoHeight:!0,hideFooter:!0})))}var X=t(322),Z=["children","value","index"];function $(e){var a=e.children,t=e.value,r=e.index,i=Object(c.a)(e,Z);return n.createElement("div",Object.assign({role:"tabpanel",hidden:t!==r,id:"simple-tabpanel-".concat(r),"aria-labelledby":"simple-tab-".concat(r)},i),t===r&&n.createElement(V.a,{sx:{p:3}},a))}function ee(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}var ae=function(){var e=n.useState(0),a=Object(o.a)(e,2),t=a[0],r=a[1];return n.createElement("div",{className:"App"},n.createElement(V.a,{sx:{width:"100%"}},n.createElement(V.a,{sx:{borderBottom:1,borderColor:"divider"}},n.createElement(X.a,{position:"static",color:"default"},n.createElement(k.a,{value:t,onChange:function(e,a){r(a)},"aria-label":"basic tabs example"},n.createElement(A.a,Object.assign({label:"Define Table"},ee(0))),n.createElement(A.a,Object.assign({label:"Preview Table"},ee(1))),n.createElement(A.a,Object.assign({label:"Request Export"},ee(2)))),n.createElement(N.a,{style:{position:"absolute",top:"12px",fontWeight:"bold",left:"50%",transform:"translate(-50%)"}},"Data Export Tool"))),n.createElement($,{value:t,index:0},n.createElement(Q,{props:{tabChanger:r}})),n.createElement($,{value:t,index:1},"Show Example table here"),n.createElement($,{value:t,index:2},'Anupama\'s "Make Request" screen goes here...')))};window.addEventListener("I2B2_READY",(function(){void 0===i2b2.model.tableDef?i2b2.model.tableDef={}:console.log("load previous table state"),i2b2.sdx.AttachType("dropTrgt","CONCPT"),i2b2.sdx.setHandlerCustom("dropTrgt","CONCPT","DropHandler",(function(){alert("dropped")}))})),l.a.createRoot(document.getElementById("root")).render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ae,null)))}},[[206,1,2]]]);
//# sourceMappingURL=main.7a8c0631.chunk.js.map