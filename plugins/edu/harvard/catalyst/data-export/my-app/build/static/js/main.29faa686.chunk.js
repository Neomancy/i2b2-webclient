(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{189:function(e,a,t){e.exports=t(216)},197:function(e,a,t){},198:function(e,a,t){},199:function(e,a,t){},200:function(e,a,t){},216:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),i=t(150),o=t.n(i),l=(t(197),t(198),t(7)),c=t(99),d=t(295),s=t(304),m=t(299),u=t(3),p=t(30),b=(t(199),t(291)),g=t(13),D=t(292),h=t(303),f=t(297),w=t(302),C=t(157),E=t.n(C),v=t(158),x=t.n(v),O=t(296),j=t(301),y=(t(200),[{field:"name",headerName:"Table Definition Name",minWidth:450,flex:1,sortable:!0,editable:!0,disableReorder:!0,type:"string"},{field:"create",headerName:"Created",width:100,sortable:!0,headerAlign:"center",align:"center",disableReorder:!0,type:"date"},{field:"edit",headerName:"Edited",width:100,sortable:!0,headerAlign:"center",align:"center",disableReorder:!0,type:"date"},{field:"columns",headerName:"Columns",width:100,sortable:!0,headerAlign:"center",align:"center",disableReorder:!0,type:"number"}]);function S(e){var a=e.id,t=e.rows,r=e.canRename;return y[0].editable=r,n.createElement("div",{id:a},n.createElement(D.a,{columnHeaderHeight:40,style:{background:"white"},columns:y,rows:t,showCellVerticalBorder:!0,density:"compact",disableColumnResize:!0,initialState:{pagination:{paginationModel:{page:0,pageSize:4}}},pageSizeOptions:[4,8,16]}))}var M=["children","value","index"],V={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"70%",bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4};function k(e){return{id:"vertical-tab-".concat(e),"aria-controls":"vertical-tabpanel-".concat(e)}}var T=[{id:1,name:"Demographics",create:new Date(Date.parse("01/01/23")),edit:new Date(Date.parse("07/07/24")),columns:10},{id:2,name:"Covid Use Case",create:new Date(Date.parse("04/05/23")),edit:new Date(Date.parse("07/07/24")),columns:20},{id:3,name:"Demographics",create:new Date(Date.parse("06/07/23")),edit:new Date(Date.parse("07/07/24")),columns:25},{id:4,name:"Demographics2",create:new Date(Date.parse("11/16/23")),edit:new Date(Date.parse("07/07/24")),columns:11}],N=[{id:1,name:"Nick's 1st Demographics run",create:new Date(Date.parse("01/01/23")),edit:new Date(Date.parse("07/07/24")),columns:10},{id:2,name:"Dummy test",create:new Date(Date.parse("04/05/23")),edit:new Date(Date.parse("07/07/24")),columns:20},{id:3,name:"Example 1",create:new Date(Date.parse("06/07/23")),edit:new Date(Date.parse("07/07/24")),columns:25},{id:4,name:"Example 2",create:new Date(Date.parse("11/16/23")),edit:new Date(Date.parse("07/07/24")),columns:11},{id:5,name:"COVID + GLP-1s",create:new Date(Date.parse("01/01/23")),edit:new Date(Date.parse("07/07/24")),columns:10},{id:6,name:"COVID + ACE2",create:new Date(Date.parse("04/05/23")),edit:new Date(Date.parse("07/07/24")),columns:20},{id:7,name:"NegCOVID + GLP-1s",create:new Date(Date.parse("06/07/23")),edit:new Date(Date.parse("07/07/24")),columns:25},{id:8,name:"NegCOVID + ACE2",create:new Date(Date.parse("11/16/23")),edit:new Date(Date.parse("07/07/24")),columns:11},{id:9,name:"Diabetes",create:new Date(Date.parse("01/01/23")),edit:new Date(Date.parse("07/07/24")),columns:10},{id:10,name:"Ashtma",create:new Date(Date.parse("04/05/23")),edit:new Date(Date.parse("07/07/24")),columns:20},{id:11,name:"COPD",create:new Date(Date.parse("06/07/23")),edit:new Date(Date.parse("07/07/24")),columns:25},{id:12,name:"opps (delete me)",create:new Date(Date.parse("11/16/23")),edit:new Date(Date.parse("07/07/24")),columns:11},{id:13,name:"Complex Stats Demo",create:new Date(Date.parse("01/01/23")),edit:new Date(Date.parse("07/07/24")),columns:10},{id:14,name:"testing 2",create:new Date(Date.parse("04/05/23")),edit:new Date(Date.parse("07/07/24")),columns:20},{id:15,name:"testing 1",create:new Date(Date.parse("06/07/23")),edit:new Date(Date.parse("07/07/24")),columns:25},{id:16,name:"test",create:new Date(Date.parse("11/16/23")),edit:new Date(Date.parse("07/07/24")),columns:11}];function A(e){var a=e.children,t=e.value,r=e.index,i=Object(c.a)(e,M);return n.createElement("div",Object.assign({role:"tabpanel",hidden:t!==r,id:"vertical-tabpanel-".concat(r),"aria-labelledby":"vertical-tab-".concat(r)},i),t===r&&n.createElement(m.a,{sx:{p:3}},n.createElement(j.a,null,a)))}function R(e){var a=e.open,t=e.handleClose,r=n.useState(0),i=Object(l.a)(r,2),o=i[0],c=i[1];return n.createElement(O.a,{open:a,onClose:t,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description"},n.createElement(m.a,{sx:V},n.createElement(j.a,{id:"modal-modal-title",variant:"h6",component:"h2"},"Load Table Definition"),n.createElement(j.a,{id:"modal-modal-description",sx:{mt:2,marginBottom:"1rem"}},"Load an existing table definition from below. Loading a definition will overwrite any unsaved changes in the definition editor."),n.createElement(m.a,{className:"modalDefListBox",sx:{flexGrow:1,display:"flex",boxShadow:2}},n.createElement(d.a,{orientation:"vertical",value:o,onChange:function(e,a){c(a)},"aria-label":"Vertical tabs example",sx:{borderRight:1,borderColor:"divider"}},n.createElement(s.a,Object.assign({label:"Shared Tables"},k(0))),n.createElement(s.a,Object.assign({label:"My Tables"},k(1)))),n.createElement(A,{value:o,index:0,className:"modalTabPanel"},n.createElement(S,{id:"loadModalDefTableGlobal",rows:T,canRename:!1})),n.createElement(A,{value:o,index:1,className:"modalTabPanel"},n.createElement(S,{id:"loadModalDefTableLocal",rows:N,canRename:!0}))),n.createElement(h.a,{spacing:2,direction:"row",justifyContent:"flex-end",alignItems:"center",style:{width:"100%",margin:"auto",marginTop:"16px"}},n.createElement(f.a,{variant:"outlined",onClick:t},"Cancel"),n.createElement(f.a,{variant:"contained",onClick:function(){return alert("Load")}},"Load"))))}var I={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:600,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4};function L(e){var a=e.open,t=e.handleClose;return n.createElement(O.a,{open:a,onClose:t,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description"},n.createElement(m.a,{sx:I},n.createElement(j.a,{id:"modal-modal-title",variant:"h6",component:"h2"},"Save Table Definition"),n.createElement(j.a,{id:"modal-modal-description",sx:{mt:2}},"Enter a table definition name to save as or select from the list to overwrite."),n.createElement(h.a,{spacing:2,direction:"row",justifyContent:"flex-end",alignItems:"center",style:{width:"100%",margin:"auto",marginTop:"16px"}},n.createElement(f.a,{variant:"outlined",onClick:t},"Cancel"),n.createElement(f.a,{variant:"contained",onClick:function(){return alert("save")}},"Save"))))}var q=[{field:"order",headerName:"order",width:1,sortable:!0,sortingOrder:"ASC",hideSortIcons:!0,disableReorder:!0},{field:"reorder",headerName:"Ordering",width:"80",resizable:!1,type:"actions",getActions:function(e){var a=e.row,t=[];return a.demographic||(a.order>1&&t.push(n.createElement(b.a,{icon:n.createElement(w.a,{title:"Move row up"},n.createElement(E.a,null)),label:"Move row up",onClick:function(){return alert("up")}})),t.push(n.createElement(b.a,{icon:n.createElement(w.a,{title:"Move row down"},n.createElement(x.a,null)),label:"Move row down",onClick:function(){return alert("down")}}))),t}},{field:"included",headerName:"Include",width:70,editable:!0,sortable:!1,type:"boolean",resizable:!1,disableColumnMenu:!0,disableReorder:!0,hideSortIcons:!0,disableColumnSorting:!0,headerAlign:"center"},{field:"name",headerName:"Concept",minWidth:450,flex:1,sortable:!1,disableColumnSorting:!0,disableColumnMenu:!1},{field:"constraint",headerName:"Constraints",width:130,resizable:!1,disableColumnMenu:!0,disableReorder:!0,disableColumnSorting:!0,display:"flex",hideSortIcons:!0,sortable:!1},{field:"aggregation",headerName:"Aggregation",width:300,resizable:!1,disableColumnMenu:!0,disableReorder:!0,display:"flex",hideSortIcons:!0,disableColumnSorting:!0,sortable:!1,editable:!0,type:"singleSelect",valueOptions:function(e){return e.row.demographic?["Value"]:["Existence (Yes/No)","Date (First)","Date (Most Recent)","Count","All Concepts (Names/Text)","Most Frequent Concept (Names/Text)","All Concepts (Codes)","Most Frequent Concept (Codes)","Minimum Value","Maximum Value","Median Value","Average Value","Mode (Most Frequent Value)","List of All Values"]}}],F=[{order:1,id:123,name:"Patient Number",constraint:"",aggregation:"Value",included:!0,demographic:!0},{order:2,id:122,name:"Gender",constraint:"",aggregation:"Value",included:!0,demographic:!0},{order:3,id:121,name:"Age",constraint:"",aggregation:"Value",included:!0,demographic:!0},{order:4,id:111,name:"Race",constraint:"",aggregation:"Value",included:!1,demographic:!0},{order:5,id:58,name:"Ethnicity",constraint:"",aggregation:"Value",included:!1,demographic:!0},{order:6,id:35,name:"Vital Status",constraint:"",aggregation:"Value",included:!1,demographic:!0},{order:7,id:36,name:"Hemoglobin A1C (Test:mcsq-a1c)",constraint:"something here",aggregation:"Maximum Value"},{order:8,id:25,name:"Hemoglobin A1C (Test:mcsq-a1c)",constraint:"something here",aggregation:"Mode (Most Frequent Value)"},{order:9,id:136,name:"Hemoglobin A1C (Test:mcsq-a1c)",constraint:"something here",aggregation:"Date (Most Recent)"},{order:10,id:125,name:"Hemoglobin A1C (Test:mcsq-a1c)",constraint:"something here",aggregation:"Average Value"}];function P(e){var a=n.useState(!1),t=Object(l.a)(a,2),r=(t[0],t[1],n.useState(!1)),i=Object(l.a)(r,2),o=i[0],c=i[1],d=function(){return c(!0)},s=n.useState(!1),m=Object(l.a)(s,2),b=m[0],w=m[1],C=n.useState({}),E=Object(l.a)(C,2),v=E[0],x=E[1],O=n.useCallback((function(e,a){e.isEditable&&(1!==a.target.nodeType||a.currentTarget.contains(a.target))&&(void 0===e||"aggregation"!==e.field||!0!==e.row.demographic?x((function(a){var t=Object(p.a)(Object(p.a)({},Object.keys(a).reduce((function(e,t){return Object(p.a)(Object(p.a)({},e),{},Object(u.a)({},t,Object.keys(a[t]).reduce((function(e,a){return Object(p.a)(Object(p.a)({},e),{},Object(u.a)({},a,{mode:g.a.View}))}),{})))}),{})),Object.keys(a).reduce((function(e,t){return Object(p.a)(Object(p.a)({},e),{},Object(u.a)({},t,Object.keys(a[t]).reduce((function(e,a){return Object(p.a)(Object(p.a)({},e),{},Object(u.a)({},a,{mode:g.a.View}))}),{})))}),{}));return Object(p.a)(Object(p.a)({},t),{},Object(u.a)({},e.id,Object(p.a)(Object(p.a)({},Object.keys(a[e.id]||{}).reduce((function(e,a){return Object(p.a)(Object(p.a)({},e),{},Object(u.a)({},a,{mode:g.a.View}))}),{})),{},Object(u.a)({},e.field,{mode:g.a.Edit}))))})):a.preventDefault())}),[]),j=n.useCallback((function(e){x(e)}),[]);return n.createElement("div",null,n.createElement(R,{handleClose:function(){return c(!1)},open:o}),n.createElement(L,{handleClose:function(){return w(!1)},open:b}),n.createElement(h.a,{spacing:2,direction:"row",justifyContent:"flex-end",alignItems:"center",style:{width:"76%",margin:"auto",marginBottom:"16px"}},n.createElement(f.a,{variant:"contained",onClick:d},"Load Previous Definition"),n.createElement(f.a,{variant:"contained",onClick:function(){return w(!0)}},"Save Current Definition"),n.createElement(f.a,{variant:"contained",onClick:function(){return e.props.tabChanger({},1)}},"Request Export With This Definition")),n.createElement("div",{style:{height:"60%",width:"76%",margin:"auto",background:"#077cf982",padding:"5px",borderRadius:"5px"}},n.createElement("p",{style:{fontStyle:"italic",fontWeight:"bold"}},"Drag a concept onto the grid to add it to the list"),n.createElement(D.a,{style:{background:"white"},rows:F,columns:q,showCellVerticalBorder:!0,hideFooterSelectedRowCount:!0,columnVisibilityModel:{order:!1},disableColumnSelector:!0,cellModesModel:v,onCellModesModelChange:j,onCellClick:O,onCellDoubleClick:O,initialState:{pagination:{paginationModel:{page:0,pageSize:4}},sorting:{sortModel:[{field:"order",sort:"asc"}]}},pageSizeOptions:[4,8,16]}),n.createElement(h.a,{spacing:2,direction:"row",justifyContent:"flex-begin",alignItems:"center",style:{width:"100%",margin:"auto",marginBottom:"4px"}},n.createElement(f.a,{sx:{position:"absolute",transform:"translate(10px, -75%)"},variant:"outlined",onClick:d},"Preview Example Data"))))}var z=t(305),B=["children","value","index"];function H(e){var a=e.children,t=e.value,r=e.index,i=Object(c.a)(e,B);return n.createElement("div",Object.assign({role:"tabpanel",hidden:t!==r,id:"simple-tabpanel-".concat(r),"aria-labelledby":"simple-tab-".concat(r)},i),t===r&&n.createElement(m.a,{sx:{p:3}},a))}function G(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}function W(){var e=n.useState(0),a=Object(l.a)(e,2),t=a[0],r=a[1],i=function(e,a){r(a)};return n.createElement(m.a,{sx:{width:"100%"}},n.createElement(m.a,{sx:{borderBottom:1,borderColor:"divider"}},n.createElement(z.a,{position:"static",color:"default"},n.createElement(d.a,{value:t,onChange:i,"aria-label":"basic tabs example"},n.createElement(s.a,Object.assign({label:"Define Table"},G(0))),n.createElement(s.a,Object.assign({label:"Request Export"},G(1)))),n.createElement(j.a,{style:{position:"absolute",top:"12px",fontWeight:"bold",left:"50%",transform:"translate(-50%)"}},"Data Export Tool"))),n.createElement(H,{value:t,index:0},n.createElement(P,{props:{tabChanger:i}})),n.createElement(H,{value:t,index:1},"Item Two"))}var J=function(){return n.createElement("div",{className:"App"},n.createElement(W,null))},U=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,307)).then((function(a){var t=a.getCLS,n=a.getFID,r=a.getFCP,i=a.getLCP,o=a.getTTFB;t(e),n(e),r(e),i(e),o(e)}))};o.a.createRoot(document.getElementById("root")).render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(J,null))),U(console.log)}},[[189,1,2]]]);
//# sourceMappingURL=main.29faa686.chunk.js.map