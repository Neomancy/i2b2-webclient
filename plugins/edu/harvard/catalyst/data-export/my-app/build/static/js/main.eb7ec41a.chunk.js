(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{157:function(e,a,t){},206:function(e,a,t){e.exports=t(232)},214:function(e,a,t){},215:function(e,a,t){},216:function(e,a,t){},232:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),i=t(165),l=t.n(i),o=(t(214),t(215),t(7)),c=t(85),d=t(311),s=t(323),m=t(318),u=t(3),p=t(28),b=(t(216),t(306)),D=t(13),g=t(307),h=t(322),w=t(313),f=t(321),E=t(172),C=t.n(E),v=t(173),x=t.n(v),O=t(174),y=t.n(O),j=t(175),S=t.n(j),M=t(176),T=t.n(M),V=t(312),k=t(320),N=(t(157),[{field:"name",headerName:"Table Definition Name",minWidth:450,flex:1,sortable:!0,editable:!0,disableReorder:!0,type:"string"},{field:"create",headerName:"Created",width:100,sortable:!0,headerAlign:"center",align:"center",disableReorder:!0,type:"date"},{field:"edit",headerName:"Edited",width:100,sortable:!0,headerAlign:"center",align:"center",disableReorder:!0,type:"date"},{field:"columns",headerName:"Columns",width:100,sortable:!0,headerAlign:"center",align:"center",disableReorder:!0,type:"number"}]);function A(e){var a=e.id,t=e.rows,r=e.canRename,i=e.onSelect,l=e.onSelectionModelChange,o=e.selectionModel,c=e.hideFooter;return N[0].editable=r,n.createElement("div",{id:a,style:{height:400}},n.createElement(g.a,{height:280,columnHeaderHeight:40,style:{background:"white"},columns:N,rows:t,showCellVerticalBorder:!0,density:"compact",disableColumnResize:!0,onRowSelectionModelChange:function(e,a){var t=a.api;void 0!==l&&(l(e),e.length>0&&i(t.getRow(e[0])))},rowSelectionModel:o,hideFooter:c,pageSizeOptions:[4,8,16]}))}var R=["children","value","index"],I={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"70%",minWidth:1280,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4};function L(e){return{id:"vertical-tab-".concat(e),"aria-controls":"vertical-tabpanel-".concat(e)}}var P=[{id:1,name:"Demographics",create:new Date(Date.parse("01/01/23")),edit:new Date(Date.parse("07/07/24")),columns:10},{id:2,name:"Covid Use Case",create:new Date(Date.parse("04/05/23")),edit:new Date(Date.parse("07/07/24")),columns:20},{id:3,name:"Demographics",create:new Date(Date.parse("06/07/23")),edit:new Date(Date.parse("07/07/24")),columns:25},{id:4,name:"Demographics2",create:new Date(Date.parse("11/16/23")),edit:new Date(Date.parse("07/07/24")),columns:11}],F=[{id:1,name:"Nick's 1st Demographics run",create:new Date(Date.parse("01/01/23")),edit:new Date(Date.parse("07/07/24")),columns:10},{id:2,name:"Dummy test",create:new Date(Date.parse("04/05/23")),edit:new Date(Date.parse("07/07/24")),columns:20},{id:3,name:"Example 1",create:new Date(Date.parse("06/07/23")),edit:new Date(Date.parse("07/07/24")),columns:25},{id:4,name:"Example 2",create:new Date(Date.parse("11/16/23")),edit:new Date(Date.parse("07/07/24")),columns:11},{id:5,name:"COVID + GLP-1s",create:new Date(Date.parse("01/01/23")),edit:new Date(Date.parse("07/07/24")),columns:10},{id:6,name:"COVID + ACE2",create:new Date(Date.parse("04/05/23")),edit:new Date(Date.parse("07/07/24")),columns:20},{id:7,name:"NegCOVID + GLP-1s",create:new Date(Date.parse("06/07/23")),edit:new Date(Date.parse("07/07/24")),columns:25},{id:8,name:"NegCOVID + ACE2",create:new Date(Date.parse("11/16/23")),edit:new Date(Date.parse("07/07/24")),columns:11},{id:9,name:"Diabetes",create:new Date(Date.parse("01/01/23")),edit:new Date(Date.parse("07/07/24")),columns:10},{id:10,name:"Ashtma",create:new Date(Date.parse("04/05/23")),edit:new Date(Date.parse("07/07/24")),columns:20},{id:11,name:"COPD",create:new Date(Date.parse("06/07/23")),edit:new Date(Date.parse("07/07/24")),columns:25},{id:12,name:"opps (delete me)",create:new Date(Date.parse("11/16/23")),edit:new Date(Date.parse("07/07/24")),columns:11},{id:13,name:"Complex Stats Demo",create:new Date(Date.parse("01/01/23")),edit:new Date(Date.parse("07/07/24")),columns:10},{id:14,name:"testing 2",create:new Date(Date.parse("04/05/23")),edit:new Date(Date.parse("07/07/24")),columns:20},{id:15,name:"testing 1",create:new Date(Date.parse("06/07/23")),edit:new Date(Date.parse("07/07/24")),columns:25},{id:16,name:"test",create:new Date(Date.parse("11/16/23")),edit:new Date(Date.parse("07/07/24")),columns:11}];function q(e){var a=e.children,t=e.value,r=e.index,i=Object(c.a)(e,R);return n.createElement("div",Object.assign({role:"tabpanel",hidden:t!==r,id:"vertical-tabpanel-".concat(r),"aria-labelledby":"vertical-tab-".concat(r)},i),t===r&&n.createElement(m.a,{sx:{p:3}},n.createElement(k.a,null,a)))}function B(e){var a=e.open,t=e.handleClose,r=n.useState(0),i=Object(o.a)(r,2),l=i[0],c=i[1];return n.createElement(V.a,{open:a,onClose:t,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description"},n.createElement(m.a,{sx:I},n.createElement(k.a,{id:"modal-modal-title",variant:"h6",component:"h2"},"Load Table Definition"),n.createElement(k.a,{id:"modal-modal-description",sx:{mt:2,marginBottom:"1rem"}},"Load an existing table definition from below. Loading a definition will overwrite any unsaved changes in the definition editor."),n.createElement(m.a,{className:"modalDefListBox",sx:{flexGrow:1,display:"flex",boxShadow:2}},n.createElement(d.a,{orientation:"vertical",value:l,onChange:function(e,a){c(a)},"aria-label":"Vertical tabs example",sx:{borderRight:1,borderColor:"divider"}},n.createElement(s.a,Object.assign({label:"Shared Tables"},L(0))),n.createElement(s.a,Object.assign({label:"My Tables"},L(1)))),n.createElement(q,{value:l,index:0,className:"modalTabPanel"},n.createElement(A,{id:"loadModalDefTableGlobal",rows:P,canRename:!1})),n.createElement(q,{value:l,index:1,className:"modalTabPanel"},n.createElement(A,{id:"loadModalDefTableLocal",rows:F,canRename:!0}))),n.createElement(h.a,{spacing:2,direction:"row",justifyContent:"flex-end",alignItems:"center",style:{width:"100%",margin:"auto",marginTop:"16px"}},n.createElement(w.a,{variant:"outlined",onClick:t},"Cancel"),n.createElement(w.a,{variant:"contained",onClick:function(){return alert("Load")}},"Load"))))}var z=t(314),G=["children","value","index"],W={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"70%",minWidth:1280,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4},H=[{id:1,name:"Nick's 1st Demographics run",create:new Date(Date.parse("01/01/23")),edit:new Date(Date.parse("07/07/24")),columns:10},{id:2,name:"Dummy test",create:new Date(Date.parse("04/05/23")),edit:new Date(Date.parse("07/07/24")),columns:20},{id:3,name:"Example 1",create:new Date(Date.parse("06/07/23")),edit:new Date(Date.parse("07/07/24")),columns:25},{id:4,name:"Example 2",create:new Date(Date.parse("11/16/23")),edit:new Date(Date.parse("07/07/24")),columns:11},{id:5,name:"COVID + GLP-1s",create:new Date(Date.parse("01/01/23")),edit:new Date(Date.parse("07/07/24")),columns:10},{id:6,name:"COVID + ACE2",create:new Date(Date.parse("04/05/23")),edit:new Date(Date.parse("07/07/24")),columns:20},{id:7,name:"NegCOVID + GLP-1s",create:new Date(Date.parse("06/07/23")),edit:new Date(Date.parse("07/07/24")),columns:25},{id:8,name:"NegCOVID + ACE2",create:new Date(Date.parse("11/16/23")),edit:new Date(Date.parse("07/07/24")),columns:11},{id:9,name:"Diabetes",create:new Date(Date.parse("01/01/23")),edit:new Date(Date.parse("07/07/24")),columns:10},{id:10,name:"Ashtma",create:new Date(Date.parse("04/05/23")),edit:new Date(Date.parse("07/07/24")),columns:20},{id:11,name:"COPD",create:new Date(Date.parse("06/07/23")),edit:new Date(Date.parse("07/07/24")),columns:25},{id:12,name:"opps (delete me)",create:new Date(Date.parse("11/16/23")),edit:new Date(Date.parse("07/07/24")),columns:11},{id:13,name:"Complex Stats Demo",create:new Date(Date.parse("01/01/23")),edit:new Date(Date.parse("07/07/24")),columns:10},{id:14,name:"testing 2",create:new Date(Date.parse("04/05/23")),edit:new Date(Date.parse("07/07/24")),columns:20},{id:15,name:"testing 1",create:new Date(Date.parse("06/07/23")),edit:new Date(Date.parse("07/07/24")),columns:25},{id:16,name:"test",create:new Date(Date.parse("11/16/23")),edit:new Date(Date.parse("07/07/24")),columns:11}];function Y(e){return{id:"vertical-tab-".concat(e),"aria-controls":"vertical-tabpanel-".concat(e)}}function J(e){var a=e.children,t=e.value,r=e.index,i=Object(c.a)(e,G);return n.createElement("div",Object.assign({role:"tabpanel",hidden:t!==r,id:"vertical-tabpanel-".concat(r),"aria-labelledby":"vertical-tab-".concat(r)},i),t===r&&n.createElement(m.a,{sx:{p:3}},n.createElement(k.a,null,a)))}function U(e){var a=e.open,t=e.handleClose,r=n.useState(""),i=Object(o.a)(r,2),l=i[0],c=i[1],u=n.useState([]),b=Object(o.a)(u,2),D=b[0],g=b[1],f=n.useState(!1),E=Object(o.a)(f,2),C=E[0],v=E[1];function x(){alert("Saved!"),v(!1),t()}return n.createElement("div",null,n.createElement(V.a,{open:a,onClose:t,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description"},n.createElement(m.a,{sx:W},n.createElement(k.a,{id:"modal-modal-title",variant:"h6",component:"h2"},"Save Table Definition"),n.createElement(k.a,{id:"modal-modal-description",sx:{mt:2}},"Enter a table definition name to save as or select from the list to overwrite."),n.createElement(m.a,{className:"modalDefListBox",sx:{flexGrow:1,display:"flex",boxShadow:2}},n.createElement(d.a,{orientation:"vertical",value:1,"aria-label":"Vertical tabs example",sx:{borderRight:1,borderColor:"divider"}},n.createElement(s.a,Object.assign({label:"Shared Tables"},Y(0),{sx:{textDecoration:"line-through"}})),n.createElement(s.a,Object.assign({label:"My Tables"},Y(1)))),n.createElement(J,{value:0,index:0,className:"modalTabPanel"}),n.createElement(J,{value:1,index:1,className:"modalTabPanel",height:260},n.createElement(A,{id:"saveModalDefTableLocal",rows:H,canRename:!0,onSelect:function(e){c(e.name),g(e.id)},onSelectionModelChange:function(e){console.warn("tets")},selectionModel:D,hideFooter:!0}))),n.createElement(h.a,{spacing:2,direction:"row",justifyContent:"flex-end",alignItems:"left",style:{width:"100%",margin:"auto",marginTop:"16px"}}),n.createElement(h.a,{spacing:2,direction:"row",justifyContent:"flex-end",alignItems:"center",style:{width:"100%",margin:"auto",marginTop:"8px"}},n.createElement(z.a,{required:!0,size:"small",id:"TableDefName",label:"Save Table Definition As",defaultValue:"My-Table-Definition",value:l,onChange:function(e){c(e.target.value),g([])},sx:{float:"left",width:"60%",position:"absolute",left:32}}),n.createElement(w.a,{variant:"outlined",onClick:t},"Cancel"),n.createElement(w.a,{variant:"contained",onClick:function(){return function(e){0===e.length?x():v(!0)}(D)}},"Save")))),n.createElement(V.a,{open:C,onClose:t,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description"},n.createElement(m.a,{sx:Object(p.a)(Object(p.a)({},W),{},{minWidth:"30%",width:"30%"})},n.createElement(k.a,{id:"modal-modal-title",variant:"h6",component:"h2"},"Overwrite Existing Table"),n.createElement("p",null," "),n.createElement(k.a,{id:"modal-modal-description",sx:{mt:2},align:"center"},n.createElement("div",null,"You are about to overwrite an existing table with the same name."),n.createElement("div",null,"Are you sure you want to do this?")),n.createElement(h.a,{spacing:2,direction:"row",justifyContent:"flex-end",alignItems:"center",style:{width:"100%",margin:"auto",marginTop:"8px"}},n.createElement(w.a,{variant:"outlined",onClick:function(){return v(!1)}},"No"),n.createElement(w.a,{variant:"contained",onClick:function(){return x()}},"Yes")))))}var K=[{field:"order",headerName:"order",width:1,sortable:!0,sortingOrder:"ASC",hideSortIcons:!0,disableReorder:!0},{field:"reorder",headerName:"Ordering",width:"80",resizable:!1,type:"actions",getActions:function(e){var a=e.row,t=[];return a.demographic||(a.order>1&&t.push(n.createElement(b.a,{icon:n.createElement(f.a,{title:"Move row up"},n.createElement(C.a,null)),label:"Move row up",onClick:function(){return alert("up")}})),t.push(n.createElement(b.a,{icon:n.createElement(f.a,{title:"Move row down"},n.createElement(x.a,null)),label:"Move row down",onClick:function(){return alert("down")}}))),t}},{field:"included",headerName:"Include",width:70,editable:!0,sortable:!1,type:"boolean",resizable:!1,disableColumnMenu:!0,disableReorder:!0,hideSortIcons:!0,disableColumnSorting:!0,headerAlign:"center",renderCell:function(e){var a=e.row;return a.demographic?a.included?n.createElement(y.a,null):n.createElement(S.a,null):n.createElement(b.a,{icon:n.createElement(f.a,{title:"Delete Column"},n.createElement(T.a,null)),label:"Delete Column",onClick:function(){return alert("delete")}})}},{field:"name",headerName:"Concept",minWidth:450,flex:1,sortable:!1,disableColumnSorting:!0,disableColumnMenu:!1},{field:"constraint",headerName:"Constraints",width:130,resizable:!1,disableColumnMenu:!0,disableReorder:!0,disableColumnSorting:!0,display:"flex",hideSortIcons:!0,sortable:!1},{field:"aggregation",headerName:"Aggregation",width:300,resizable:!1,disableColumnMenu:!0,disableReorder:!0,display:"flex",hideSortIcons:!0,disableColumnSorting:!0,sortable:!1,editable:!0,type:"singleSelect",valueOptions:function(e){return e.row.demographic?["Value"]:["Existence (Yes/No)","Date (First)","Date (Most Recent)","Count","All Concepts (Names/Text)","Most Frequent Concept (Names/Text)","All Concepts (Codes)","Most Frequent Concept (Codes)","Minimum Value","Maximum Value","Median Value","Average Value","Mode (Most Frequent Value)","List of All Values"]}}],Q=[{order:1,id:123,name:"Patient Number",constraint:"",aggregation:"Value",included:!0,demographic:!0},{order:2,id:122,name:"Gender",constraint:"",aggregation:"Value",included:!0,demographic:!0},{order:3,id:121,name:"Age",constraint:"",aggregation:"Value",included:!0,demographic:!0},{order:4,id:111,name:"Race",constraint:"",aggregation:"Value",included:!1,demographic:!0},{order:5,id:58,name:"Ethnicity",constraint:"",aggregation:"Value",included:!1,demographic:!0},{order:6,id:35,name:"Vital Status",constraint:"",aggregation:"Value",included:!1,demographic:!0},{order:7,id:36,name:"Hemoglobin A1C (Test:mcsq-a1c)",constraint:"something here",aggregation:"Maximum Value"},{order:8,id:25,name:"Hemoglobin A1C (Test:mcsq-a1c)",constraint:"something here",aggregation:"Mode (Most Frequent Value)"},{order:9,id:136,name:"Hemoglobin A1C (Test:mcsq-a1c)",constraint:"something here",aggregation:"Date (Most Recent)"},{order:10,id:125,name:"Hemoglobin A1C (Test:mcsq-a1c)",constraint:"something here",aggregation:"Average Value"}];function X(e){var a=n.useState(!1),t=Object(o.a)(a,2),r=(t[0],t[1],n.useState(!1)),i=Object(o.a)(r,2),l=i[0],c=i[1],d=function(){return c(!0)},s=n.useState(!1),m=Object(o.a)(s,2),b=m[0],f=m[1],E=n.useState({}),C=Object(o.a)(E,2),v=C[0],x=C[1],O=n.useCallback((function(e,a){e.isEditable&&(1!==a.target.nodeType||a.currentTarget.contains(a.target))&&(void 0===e||"aggregation"!==e.field||!0!==e.row.demographic?x((function(a){var t=Object(p.a)(Object(p.a)({},Object.keys(a).reduce((function(e,t){return Object(p.a)(Object(p.a)({},e),{},Object(u.a)({},t,Object.keys(a[t]).reduce((function(e,a){return Object(p.a)(Object(p.a)({},e),{},Object(u.a)({},a,{mode:D.a.View}))}),{})))}),{})),Object.keys(a).reduce((function(e,t){return Object(p.a)(Object(p.a)({},e),{},Object(u.a)({},t,Object.keys(a[t]).reduce((function(e,a){return Object(p.a)(Object(p.a)({},e),{},Object(u.a)({},a,{mode:D.a.View}))}),{})))}),{}));return Object(p.a)(Object(p.a)({},t),{},Object(u.a)({},e.id,Object(p.a)(Object(p.a)({},Object.keys(a[e.id]||{}).reduce((function(e,a){return Object(p.a)(Object(p.a)({},e),{},Object(u.a)({},a,{mode:D.a.View}))}),{})),{},Object(u.a)({},e.field,{mode:D.a.Edit}))))})):a.preventDefault())}),[]),y=n.useCallback((function(e){x(e)}),[]);return n.createElement("div",null,n.createElement(B,{handleClose:function(){return c(!1)},open:l}),n.createElement(U,{handleClose:function(){return f(!1)},open:b}),n.createElement(h.a,{spacing:2,direction:"row",justifyContent:"flex-end",alignItems:"center",style:{width:"76%",margin:"auto",marginBottom:"16px"}},n.createElement(w.a,{variant:"contained",onClick:d},"Load Previous Definition"),n.createElement(w.a,{variant:"contained",onClick:function(){return f(!0)}},"Save Current Definition"),n.createElement(w.a,{variant:"contained",onClick:function(){return e.props.tabChanger({},1)}},"Request Export With This Definition")),n.createElement("div",{style:{height:"60%",width:"76%",margin:"auto",background:"#077cf982",padding:"5px",borderRadius:"5px"}},n.createElement("p",{style:{fontStyle:"italic",fontWeight:"bold"}},"Drag a concept onto the grid to add it to the list"),n.createElement(g.a,{style:{background:"white"},rows:Q,columns:K,showCellVerticalBorder:!0,hideFooterSelectedRowCount:!0,columnVisibilityModel:{order:!1},disableColumnSelector:!0,cellModesModel:v,onCellModesModelChange:y,onCellClick:O,onCellDoubleClick:O,initialState:{pagination:{paginationModel:{page:0,pageSize:4}},sorting:{sortModel:[{field:"order",sort:"asc"}]}},pageSizeOptions:[4,8,16]}),n.createElement(h.a,{spacing:2,direction:"row",justifyContent:"flex-begin",alignItems:"center",style:{width:"100%",margin:"auto",marginBottom:"4px"}},n.createElement(w.a,{sx:{position:"absolute",transform:"translate(10px, -75%)"},variant:"outlined",onClick:d},"Preview Example Data"))))}var Z=t(324),$=["children","value","index"];function _(e){var a=e.children,t=e.value,r=e.index,i=Object(c.a)(e,$);return n.createElement("div",Object.assign({role:"tabpanel",hidden:t!==r,id:"simple-tabpanel-".concat(r),"aria-labelledby":"simple-tab-".concat(r)},i),t===r&&n.createElement(m.a,{sx:{p:3}},a))}function ee(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}function ae(){var e=n.useState(0),a=Object(o.a)(e,2),t=a[0],r=a[1],i=function(e,a){r(a)};return n.createElement(m.a,{sx:{width:"100%"}},n.createElement(m.a,{sx:{borderBottom:1,borderColor:"divider"}},n.createElement(Z.a,{position:"static",color:"default"},n.createElement(d.a,{value:t,onChange:i,"aria-label":"basic tabs example"},n.createElement(s.a,Object.assign({label:"Define Table"},ee(0))),n.createElement(s.a,Object.assign({label:"Request Export"},ee(1)))),n.createElement(k.a,{style:{position:"absolute",top:"12px",fontWeight:"bold",left:"50%",transform:"translate(-50%)"}},"Data Export Tool"))),n.createElement(_,{value:t,index:0},n.createElement(X,{props:{tabChanger:i}})),n.createElement(_,{value:t,index:1},'Anupama\'s "Make Request" screen goes here...'))}var te=function(){return n.createElement("div",{className:"App"},n.createElement(ae,null))},ne=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,328)).then((function(a){var t=a.getCLS,n=a.getFID,r=a.getFCP,i=a.getLCP,l=a.getTTFB;t(e),n(e),r(e),i(e),l(e)}))};l.a.createRoot(document.getElementById("root")).render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(te,null))),ne(console.log)}},[[206,1,2]]]);
//# sourceMappingURL=main.eb7ec41a.chunk.js.map